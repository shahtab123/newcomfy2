{
  "input": {
    "workflow": {
      "2": {
        "inputs": {
          "image": "base_image.png"
        },
        "class_type": "LoadImage",
        "_meta": {
          "title": "Load Image"
        }
      },
      "6": {
        "inputs": {
          "enabled": true,
          "swap_model": "inswapper_128.onnx",
          "facedetection": "YOLOv5n",
          "face_restore_model": "GFPGANv1.4.pth",
          "face_restore_visibility": 0.8800000000000001,
          "codeformer_weight": 0.5,
          "detect_gender_input": "no",
          "detect_gender_source": "no",
          "input_faces_index": "0",
          "source_faces_index": "0",
          "console_log_level": 1,
          "input_image": [
            "39",
            0
          ],
          "source_image": [
            "14",
            0
          ],
          "face_boost": [
            "8",
            0
          ]
        },
        "class_type": "ReActorFaceSwap",
        "_meta": {
          "title": "ReActor ðŸŒŒ Fast Face Swap"
        }
      },
      "8": {
        "inputs": {
          "enabled": true,
          "boost_model": "GFPGANv1.4.pth",
          "interpolation": "Bicubic",
          "visibility": 0.25000000000000006,
          "codeformer_weight": 0.5,
          "restore_with_main_after": true
        },
        "class_type": "ReActorFaceBoost",
        "_meta": {
          "title": "ReActor ðŸŒŒ Face Booster"
        }
      },
      "9": {
        "inputs": {
          "model_name": "bbox/face_yolov8m.pt"
        },
        "class_type": "UltralyticsDetectorProvider",
        "_meta": {
          "title": "UltralyticsDetectorProvider"
        }
      },
      "10": {
        "inputs": {
          "threshold": 0.5,
          "dilation": 10,
          "crop_factor": 1,
          "drop_size": 10,
          "labels": "all",
          "bbox_detector": [
            "9",
            0
          ],
          "image": [
            "2",
            0
          ]
        },
        "class_type": "BboxDetectorSEGS",
        "_meta": {
          "title": "BBOX Detector (SEGS)"
        }
      },
      "11": {
        "inputs": {
          "segs": [
            "10",
            0
          ]
        },
        "class_type": "SegsToCombinedMask",
        "_meta": {
          "title": "SEGS to MASK (combined)"
        }
      },
      "12": {
        "inputs": {
          "cut_type": "mask",
          "output_size": "mask_size",
          "padding": 40,
          "min_width": 0,
          "min_height": 0,
          "output_alpha": false,
          "images": [
            "2",
            0
          ],
          "mask": [
            "11",
            0
          ]
        },
        "class_type": "D2 Cut By Mask",
        "_meta": {
          "title": "D2 Cut By Mask"
        }
      },
      "13": {
        "inputs": {
          "images": [
            "14",
            0
          ]
        },
        "class_type": "PreviewImage",
        "_meta": {
          "title": "Preview Image"
        }
      },
      "14": {
        "inputs": {
          "upscale_model": [
            "15",
            0
          ],
          "image": [
            "12",
            0
          ]
        },
        "class_type": "ImageUpscaleWithModel",
        "_meta": {
          "title": "Upscale Image (using Model)"
        }
      },
      "15": {
        "inputs": {
          "model_name": "RealESRGAN_x2.pth"
        },
        "class_type": "UpscaleModelLoader",
        "_meta": {
          "title": "Load Upscale Model"
        }
      },
      "16": {
        "inputs": {
          "threshold": 0.5,
          "dilation": 10,
          "crop_factor": 1,
          "drop_size": 10,
          "labels": "all",
          "bbox_detector": [
            "9",
            0
          ],
          "image": [
            "38",
            0
          ]
        },
        "class_type": "BboxDetectorSEGS",
        "_meta": {
          "title": "BBOX Detector (SEGS)"
        }
      },
      "17": {
        "inputs": {
          "segs": [
            "16",
            0
          ]
        },
        "class_type": "SegsToCombinedMask",
        "_meta": {
          "title": "SEGS to MASK (combined)"
        }
      },
      "18": {
        "inputs": {
          "cut_type": "mask",
          "output_size": "mask_size",
          "padding": 0,
          "min_width": 0,
          "min_height": 0,
          "output_alpha": false,
          "images": [
            "38",
            0
          ],
          "mask": [
            "17",
            0
          ]
        },
        "class_type": "D2 Cut By Mask",
        "_meta": {
          "title": "D2 Cut By Mask"
        }
      },
      "24": {
        "inputs": {
          "image": "reference_image.png"
        },
        "class_type": "LoadImage",
        "_meta": {
          "title": "Image Overlay"
        }
      },
      "32": {
        "inputs": {
          "filename_prefix": "ai_photo_booth",
          "images": [
            "33",
            0
          ]
        },
        "class_type": "Save Image With Callback",
        "_meta": {
          "title": "Save Image With Callback"
        }
      },
      "33": {
        "inputs": {
          "move_watermark": false,
          "move_watermark_step": 10,
          "watermark_text": "",
          "font": "assets/fonts/DMSans-VariableFont_opsz,wght.ttf",
          "font_size": 2,
          "logo_scale_percentage": 10,
          "x_padding": 0,
          "y_padding": 0,
          "rotation": 0,
          "opacity": 0,
          "image": [
            "36",
            0
          ],
          "logo_image": [
            "24",
            0
          ],
          "mask": [
            "24",
            1
          ]
        },
        "class_type": "KimaraAIWatermarker",
        "_meta": {
          "title": "Kimara.ai Advanced Watermarker"
        }
      },
      "34": {
        "inputs": {
          "enabled": true,
          "swap_model": "inswapper_128.onnx",
          "facedetection": "YOLOv5n",
          "face_restore_model": "GFPGANv1.4.pth",
          "face_restore_visibility": 0.8800000000000001,
          "codeformer_weight": 0.5,
          "detect_gender_input": "no",
          "detect_gender_source": "no",
          "input_faces_index": "1",
          "source_faces_index": "1",
          "console_log_level": 1,
          "input_image": [
            "6",
            0
          ],
          "source_image": [
            "14",
            0
          ],
          "face_boost": [
            "35",
            0
          ]
        },
        "class_type": "ReActorFaceSwap",
        "_meta": {
          "title": "ReActor ðŸŒŒ Fast Face Swap"
        }
      },
      "35": {
        "inputs": {
          "enabled": true,
          "boost_model": "GFPGANv1.4.pth",
          "interpolation": "Bicubic",
          "visibility": 0.25000000000000006,
          "codeformer_weight": 0.5,
          "restore_with_main_after": true
        },
        "class_type": "ReActorFaceBoost",
        "_meta": {
          "title": "ReActor ðŸŒŒ Face Booster"
        }
      },
      "36": {
        "inputs": {
          "enabled": true,
          "swap_model": "inswapper_128.onnx",
          "facedetection": "YOLOv5n",
          "face_restore_model": "GFPGANv1.4.pth",
          "face_restore_visibility": 1,
          "codeformer_weight": 0.5,
          "detect_gender_input": "no",
          "detect_gender_source": "no",
          "input_faces_index": "2",
          "source_faces_index": "2",
          "console_log_level": 1,
          "input_image": [
            "34",
            0
          ],
          "source_image": [
            "14",
            0
          ],
          "face_boost": [
            "37",
            0
          ]
        },
        "class_type": "ReActorFaceSwap",
        "_meta": {
          "title": "ReActor ðŸŒŒ Fast Face Swap"
        }
      },
      "37": {
        "inputs": {
          "enabled": true,
          "boost_model": "GFPGANv1.4.pth",
          "interpolation": "Bicubic",
          "visibility": 1,
          "codeformer_weight": 0.5,
          "restore_with_main_after": true
        },
        "class_type": "ReActorFaceBoost",
        "_meta": {
          "title": "ReActor ðŸŒŒ Face Booster"
        }
      },
      "38": {
        "inputs": {
          "prompt": "Use only the person and create: The scene is a cinematic, artistic portrait surrounded by vibrant flowers (red, orange, white, blue, and purple) with a dreamy, softly lit atmosphere. Mist and light beams flow in the background, creating depth and a surreal, painterly mood. The subject is standing confidently, well-lit, with natural elegance. Clothing should appear stylish, well-fitted, and refined, adapted naturally to the person's gender. Keep the overall tone artistic, vibrant, and polished with a slightly ethereal look. Ensure the generated person appears slimmer and more fit than default while maintaining realism. Match the person face, pose and expression as much as possible.",
          "model": "gemini-2.5-flash-image-preview",
          "api_key": "AIzaSyAl90nDTeff8CBhyeXA5zdSk9AADOezbGk",
          "proxy": "",
          "operation": "None",
          "quality": "high",
          "aspect_ratio": "4:5 â–¯",
          "character_consistency": false,
          "temperature": -0.05,
          "seed": 1507917843,
          "image_to_edit": [
            "2",
            0
          ]
        },
        "class_type": "Nano_Banana",
        "_meta": {
          "title": "Nano Banana"
        }
      },
      "39": {
        "inputs": {
          "upscale_model": [
            "40",
            0
          ],
          "image": [
            "38",
            0
          ]
        },
        "class_type": "ImageUpscaleWithModel",
        "_meta": {
          "title": "Upscale Image (using Model)"
        }
      },
      "40": {
        "inputs": {
          "model_name": "RealESRGAN_x2.pth"
        },
        "class_type": "UpscaleModelLoader",
        "_meta": {
          "title": "Load Upscale Model"
        }
      }
    },
    "images": [
      {
        "name": "base_image.png",
        "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=="
      },
      {
        "name": "reference_image.png",
        "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=="
      }
    ]
  }
} 